# ISPManager with Ammina plugins
__Проект находится в разработке. Выпуск в релиз при присвоении тега версии__ 

ISPManager с автоматической установкой и настройкой и плагинами Ammina

## Установка

### Для всех поддерживаемых операционных систем:
```shell

apt install -y git-core
git clone https://github.com/AmminaSolutions/ispmanager.ammina.plugins.git /opt/ispmanager.ammina.plugins
cd /opt/ispmanager.ammina.plugins
sh step1.sh

```
В процессе установки будет задан вопрос об имени сервера. Необходимо указать полное имя сервера. Например:
```
srv01.ammina-isp.ru
```

### Debian 12

### Ubuntu 22.04
Дополнительно будет задан вопрос об устанавливаемом сервере базы данных. По умолчанию будет установлен сервер MySQL. При отрицательном ответе на вопрос - MariaDB.

___Данная возможность доступно только для операционных систем Ubuntu___



## Собственные файлы настроек


## Команды

### Синхронизация файлов настроек
Выполняется синхронизация файлов настроек с каталогами операционной системы.

```shell
sh /opt/ispmanager.ammina.plugins/commands/sync.files.sh
```

Порядок каталогов для проверки исходных файлов:
* /core/files/**
* /$OSDIR/files/**
* /.local/files/**

Только измененные файлы заменяются. Если в каталоги операционной системы записывается.

#### Автоматическое выполнение команд при обновлении файлов в операционной системе
Для автоматического выполнения команд при изменении файлов (например обновился аддон ISPManager), необходимо в каталоге разместить файл .service.command, который содержит shell команды для выполнения. Команды должны разделяться двойным переносом строк.

> Действие данного файла распространяется на каталог расположения и все подкаталоги

Пример:
```shell
pkill core

service nginx restart
```